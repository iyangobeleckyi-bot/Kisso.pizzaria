<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kisso ‚Äì –ø—ñ—Ü–∞ –≤ –ö–æ–ª–æ–º–∏—ó | –¥–æ—Å—Ç–∞–≤–∫–∞ +380660209675</title>
  <meta name="description" content="–ü—ñ—Ü–∞, —Å—Ç—Ä–∞–≤–∏, –¥–µ—Å–µ—Ä—Ç–∏. –ö–æ–ª–æ–º–∏—è, –≤—É–ª. –Ü–≤–∞–Ω–∞ –ú–∏–∫–æ–ª–∞–π—á—É–∫–∞. –î–æ—Å—Ç–∞–≤–∫–∞ —Ç–∞ —Å—Ç–æ–ª–∏–∫–∏ 1-30.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçï</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
  --tomato: #e54b22;
  --cheese: #f9c74f;
  --olive: #6a994e;
  --brown: #3d2b1f;
  --cream: #fff8f0;
  --radius: 18px;
  --font: 'Inter', sans-serif;
  --transition: .3s;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font); }
html { scroll-behavior: smooth; }
body { background: var(--cream); color: var(--brown); }

a { color: inherit; text-decoration: none; }
img { max-width: 100%; display: block; }

/* ---------- header ---------- */
header { position: sticky; top: 0; z-index: 1000; display: flex; align-items: center; justify-content: space-between; padding: .75rem 1rem; background: rgba(255,255,255,.85); backdrop-filter: blur(8px); }
.logo { font-size: 1.5rem; font-weight: 700; color: var(--tomato); }
.burger { width: 30px; height: 24px; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer; }
.burger span { width: 100%; height: 3px; background: var(--tomato); border-radius: 3px; transition: var(--transition); }
.burger.open span:nth-child(1) { transform: rotate(45deg) translate(5px,5px); }
.burger.open span:nth-child(2) { opacity: 0; }
.burger.open span:nth-child(3) { transform: rotate(-45deg) translate(7px,-6px); }
nav { position: absolute; top: 100%; left: 0; right: 0; background: #fff; max-height: 0; overflow: hidden; transition: max-height .4s ease; opacity: 0; display: flex; flex-direction: column; padding: 0 1rem; }
nav.open { max-height: 200px; opacity: 1; padding: .5rem 1rem; }
nav a { padding: .5rem 0; font-weight: 600; }

/* ---------- hero ---------- */
.hero { min-height: 70vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 2rem 1rem; background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 600'%3E%3Crect fill='%23fff8f0' width='1200' height='600'/%3E%3Cpath fill='%23f9c74f' opacity='.15' d='M0 300L50 325L100 300L150 275L200 300L250 325L300 300L350 275L400 300L450 325L500 300L550 275L600 300L650 325L700 300L750 275L800 300L850 325L900 300L950 275L1000 300L1050 325L1100 300L1150 275L1200 300V600H0V300Z'/%3E%3C/svg%3E") center/cover no-repeat; }
.hero h1 { font-size: clamp(2rem,5vw,3.5rem); margin-bottom: .5rem; color: var(--tomato); }
.hero p { font-size: 1.125rem; margin-bottom: 1.5rem; }
.btn { background: var(--tomato); color: #fff; border: none; padding: .75rem 1.5rem; border-radius: 50px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); }
.btn:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,.15); }
.search-bar { width: 90%; max-width: 600px; margin: 1rem auto; padding: .75rem 1rem; border: 2px solid var(--cheese); border-radius: 50px; background: #fff; color: var(--brown); outline: none; font-size: 1rem; }
.search-bar:focus { border-color: var(--tomato); }

/* ---------- tabs ---------- */
.tabs { display: flex; flex-wrap: wrap; gap: .5rem; justify-content: center; padding: 1rem; }
.tab { background: #fff; color: var(--brown); padding: .5rem 1rem; border-radius: 50px; cursor: pointer; font-weight: 600; transition: var(--transition); border: 2px solid transparent; }
.tab.active, .tab:hover { border-color: var(--tomato); background: var(--tomato); color: #fff; }

/* ---------- menu ---------- */
.menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; padding: 1rem; }
.card { background: #fff; border-radius: var(--radius); overflow: hidden; display: flex; flex-direction: column; transition: var(--transition); box-shadow: 0 2px 6px rgba(0,0,0,.05); }
.card:hover { transform: translateY(-6px); box-shadow: 0 8px 16px rgba(0,0,0,.1); }
.card img { aspect-ratio: 4/3; object-fit: cover; width: 100%; }
.card-body { padding: 1rem; flex: 1; display: flex; flex-direction: column; }
.card-title { font-size: 1.125rem; margin-bottom: .25rem; display: flex; align-items: center; gap: .5rem; }
.vegan-badge { color: var(--olive); font-size: .9rem; }
.card-price { font-weight: 600; margin-bottom: .5rem; color: var(--tomato); }
.promo-badge { background: var(--cheese); color: var(--brown); padding: 2px 8px; border-radius: 12px; font-size: .8rem; margin-left: 8px; }
.qty-row { display: flex; align-items: center; gap: .5rem; margin-top: auto; }
.qty-btn { width: 30px; height: 30px; border-radius: 50%; border: none; background: var(--tomato); color: #fff; font-weight: bold; cursor: pointer; transition: var(--transition); }
.qty-btn:hover { background: var(--brown); }
.qty-val { min-width: 20px; text-align: center; font-weight: 600; }

/* ---------- cart ---------- */
.cart-btn { position: fixed; bottom: 1rem; right: 1rem; background: var(--tomato); color: #fff; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; box-shadow: 0 4px 12px rgba(0,0,0,.2); z-index: 900; transition: var(--transition); cursor: pointer; }
.cart-btn:hover { transform: translateY(-4px) scale(1.05); }
.cart-badge { position: absolute; top: -5px; right: -5px; background: var(--cheese); color: var(--brown); width: 22px; height: 22px; border-radius: 50%; font-size: .75rem; display: flex; align-items: center; justify-content: center; font-weight: bold; }

/* ---------- modals ---------- */
.cart-modal, .promo-modal { position: fixed; inset: 0; background: rgba(0,0,0,.6); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; visibility: hidden; transition: var(--transition); }
.cart-modal.open, .promo-modal.open { opacity: 1; visibility: visible; }
.cart-content, .promo-content { background: #fff; color: var(--brown); width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; border-radius: var(--radius); padding: 1.5rem; position: relative; animation: slide .4s ease; }
@keyframes slide { from { transform: translateY(40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: .75rem 0; border-bottom: 1px solid #eee; }
.cart-total { font-weight: 700; font-size: 1.25rem; text-align: right; margin: 1rem 0; color: var(--tomato); }
.form-field { width: 100%; padding: .75rem; margin-bottom: .75rem; border: 2px solid var(--cheese); border-radius: var(--radius); font-size: 1rem; outline: none; transition: var(--transition); }
.form-field:focus { border-color: var(--tomato); }
.checkout-btn { width: 100%; padding: 1rem; background: var(--olive); color: #fff; border: none; border-radius: var(--radius); font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: var(--transition); }
.checkout-btn:hover { background: var(--brown); }

/* ---------- footer ---------- */
footer { padding: 2rem 1rem; text-align: center; background: #fff; margin-top: 2rem; font-size: .9rem; }
footer a { color: var(--tomato); }
.map { width: 100%; max-width: 600px; height: 300px; border: none; border-radius: var(--radius); margin: 1rem 0; }

/* ---------- rating ---------- */
.rate-block { text-align: center; margin: 2rem 0; }
.star-rating { font-size: 1.5rem; color: var(--cheese); margin-top: .5rem; }
.star-rating i { cursor: pointer; transition: var(--transition); }
.star-rating i.active, .star-rating i:hover { color: var(--tomato); }

/* ---------- promo btn ---------- */
.promo-btn { position: fixed; bottom: 5.5rem; right: 1rem; background: var(--olive); color: #fff; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; box-shadow: 0 4px 12px rgba(0,0,0,.2); z-index: 900; transition: var(--transition); cursor: pointer; }
.promo-btn:hover { transform: translateY(-4px) scale(1.05); }
/* ---------- –∞–¥–∞–ø—Ç–∏–≤ ---------- */
@media(max-width: 600px) { .menu-grid { grid-template-columns: 1fr; } .hero { min-height: 50vh; } .hero h1 { font-size: 2rem; } .tabs { overflow-x: auto; justify-content: flex-start; padding-bottom: .5rem; } }
/* ---------- –ø–ª–∞–≤–∞—é—á—ñ —ñ–∫–æ–Ω–∫–∏ ---------- */
.floating-icons {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: -1;            /* —â–æ–± –Ω–µ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç */
}

.floating-icons i {
  position: absolute;
  bottom: -40px;          /* —Å—Ç–∞—Ä—Ç –∑–∞ –º–µ–∂–∞–º–∏ –µ–∫—Ä–∞–Ω—É */
  font-size: 1.5rem;
  color: var(--cheese);   /* –∫–æ–ª—ñ—Ä —ñ–∫–æ–Ω–∫–∏ */
  opacity: 0.12;
  animation: float 20s linear infinite;
}

@keyframes float {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.12;
  }
  50% {
    opacity: 0.2;
  }
  100% {
    transform: translateY(-120vh) rotate(360deg);
    opacity: 0;
  }
}
.sansgoga{
  text-align: center;
}
  </style>
</head>
<body>
  <div class="floating-icons" id="floatIcons"></div>

  <header id="mainHeader">
    <div class="logo">Kisso</div>
    <div class="burger" onclick="toggleNav()">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <nav id="main-nav">
      <a href="#menu">–ú–µ–Ω—é</a>
      <a href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
      <a href="#about">–ü—Ä–æ –Ω–∞—Å</a>
    </nav>
  </header>
<main>
    <section class="hero">
      <h1>–°–ø—Ä–∞–≤–∂–Ω—è —ñ—Ç–∞–ª—ñ–π—Å—å–∫–∞ –ø—ñ—Ü–∞ —É –ö–æ–ª–æ–º–∏—ó</h1>
      <p>–î–æ—Å—Ç–∞–≤–∫–∞ —Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ–ª–∏–∫—ñ–≤: +38 (066) 020-96-75</p>
      <a href="#menu" class="btn">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –º–µ–Ω—é</a>
    </section>
    
    <div class="sansgoga">
      <input type="text" class="search-bar" id="searchInput" placeholder="–ü–æ—à—É–∫ —Å—Ç—Ä–∞–≤...">
    </div>
    
    <section id="menu">
      <div class="tabs">
        <div class="tab active" data-cat="pizza">–ü—ñ—Ü–∞</div>
        <div class="tab" data-cat="main">–û—Å–Ω–æ–≤–Ω—ñ —Å—Ç—Ä–∞–≤–∏</div>
        <div class="tab" data-cat="drink">–ù–∞–ø–æ—ó</div>
        <div class="tab" data-cat="alcohol">–ê–ª–∫–æ–≥–æ–ª—å</div>
        <div class="tab" data-cat="dessert">–î–µ—Å–µ—Ä—Ç–∏</div>
        <div class="tab" data-cat="banquet">–ë–∞–Ω–∫–µ—Ç–∏</div>
        <div class="tab" data-cat="promo">–ê–∫—Ü—ñ—ó</div>
        <div class="tab" data-cat="grill">–≥—Ä–∏–ª—å</div>
      </div>

      <div class="menu-grid" id="menuGrid"></div>
    </section>

    <div class="cart-btn" onclick="toggleCart()">
      <i class="fas fa-shopping-cart"></i>
      <span class="cart-badge" id="count">0</span>
    </div>
    
    <section id="about" style="padding:2rem 1rem;text-align:center">
      <h2>–ü—Ä–æ –Ω–∞—Å</h2>
      <p>Kisso ‚Äì —Ü–µ —Å–º–∞—á–Ω–∞ –ø—ñ—Ü–∞ —Ç–∞ —ñ—Ç–∞–ª—ñ–π—Å—å–∫—ñ —Å—Ç—Ä–∞–≤–∏ . –ì–æ—Ç—É—î–º–æ –∑ –ª—é–±–æ–≤'—é!</p>
      
      <div class="rate-block">
        <button class="btn" onclick="openRate()">
          <i class="fas fa-star"></i> –û—Ü—ñ–Ω–∏—Ç–∏ –∑–∞–∫–ª–∞–¥
        </button>
        <div class="star-rating" id="starRating" style="display:none">
          <i class="fa-regular fa-star" data-s="1"></i>
          <i class="fa-regular fa-star" data-s="2"></i>
          <i class="fa-regular fa-star" data-s="3"></i>
          <i class="fa-regular fa-star" data-s="4"></i>
          <i class="fa-regular fa-star" data-s="5"></i>
        </div>
      </div>
    </section>

    <section id="contacts" style="padding:2rem 1rem;text-align:center">
      <h2>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h2>
      <p><strong>üìç –ö–æ–ª–æ–º–∏—è, –≤—É–ª. –Ü–≤–∞–Ω–∞ –ú–∏–∫–æ–ª–∞–π—á—É–∫–∞, 78200</strong></p>
      <p><strong>üìû <a href="tel:+380660209675" style="color:#e54b22;font-size:1.25rem">+38 (066) 020-96-75</a></strong></p>
      <iframe class="map" loading="lazy"
              src="https://www.openstreetmap.org/export/embed.html?bbox=25.05869328975678%2C48.51547617244124%2C25.061203837394718%2C48.516689673233195&amp;layer=mapnik&amp;marker=48.51608292647055%2C25.059948563575745"
              allowfullscreen="" aria-label="–ú–∏ –Ω–∞ –º–∞–ø—ñ"></iframe>
      <br>
      <a class="btn" href="https://www.google.com/maps/place/–≤—É–ª–∏—Ü—è+–Ü–≤–∞–Ω–∞+–ú–∏–∫–æ–ª–∞–π—á—É–∫–∞,+–ö–æ–ª–æ–º–∏—è,+–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫–∞+–æ–±–ª–∞—Å—Ç—å,+78200" target="_blank" rel="noopener">–ú–∞—Ä—à—Ä—É—Ç</a>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Kisso ‚Ä¢ <a href="tel:+380660209675">+38 (066) 020-96-75</a></p>
    <p>‚è∞ –ü–Ω‚Äì–ù–¥: 10:00‚Äì22:00</p>
    <div style="font-size:1.3rem;margin-top:.5rem">
      <a href="https://instagram.com/kisso_kolomiya" target="_blank" style="color:var(--peach);margin-right:.5rem"><i class="fa-brands fa-instagram"></i></a>
      <a href="https://t.me/kisso_bot" target="_blank" style="color:var(--peach)"><i class="fa-brands fa-telegram"></i></a>
    </div>
  </footer>

  <!-- Cart Modal -->
  <div class="cart-modal" id="cartModal" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
    <div class="cart-content">
      <button onclick="toggleCart()" style="align-self:flex-end;background:none;border:none;font-size:1.5rem;cursor:pointer;position:absolute;top:1rem;right:1rem;z-index:10" aria-label="–ó–∞–∫—Ä–∏—Ç–∏">‚úñ</button>
      <h2 id="cartTitle">–ö–æ—à–∏–∫</h2>
      <div id="cartItems"></div>
      <div class="cart-total">–†–∞–∑–æ–º: <span id="cartTotal">0</span> –≥—Ä–Ω</div>
      <form id="orderForm" onsubmit="handleOrder(event)">
        <select name="deliveryType" class="form-field" required onchange="toggleFields(this)">
          <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–±</option>
<option value="delivery">–î–æ—Å—Ç–∞–≤–∫–∞</option>
          <option value="cafe">–£ –∫–∞—Ñ–µ</option>
        </select>
        <input name="name" id="fieldName" class="form-field" placeholder="–Ü–º'—è" required>
        <input name="phone" id="fieldPhone" class="form-field" type="tel" pattern="[0-9+]{10,}" placeholder="+380..." required>
        <input name="address" id="fieldAddr" class="form-field" placeholder="–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏">
        <div id="tableRow" style="display:none">
          <label>–°—Ç–æ–ª–∏–∫ ‚Ññ</label>
          <select name="table" id="selectTable" class="form-field"></select>
        </div>
        <button type="submit" class="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç–∏</button>
      </form>
    </div>
  </div>

  <script>
    /* ----------  ---------- */
    const menuData = {
      pizza: [
        {name: '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞', price: 199, img: 'https://www.miyokos.com/cdn/shop/articles/marguerita-pizza.webp?auto=format&fit=crop&w=600&q=60', promo: true},
        {name: '–ü–µ–ø–ø–µ—Ä–æ–Ω—ñ', price: 219, img: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?auto=format&fit=crop&w=600&q=60',new: true},
        {name: '4 –°–∏—Ä–∏', price: 249, img: 'https://kitchenatics.com/wp-content/uploads/2020/09/Cheese-pizza-1.jpg?auto=format&fit=crop&w=600&q=60'},
        {name: '–ì–∞–≤–∞–π—Å—å–∫–∞', price: 229, img: 'https://images.unsplash.com/photo-1604382355076-af4b0eb60143?auto=format&fit=crop&w=600&q=60'},
        
      ],

      main: [
        {name: '–ü–∞—Å—Ç–∞ –ö–∞—Ä–±–æ–Ω–∞—Ä–∞', price: 179, img: 'https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&w=600&q=60', promo: true},
        {name: '–õ–∞–∑–∞–Ω—å—è', price: 209, img: 'https://images.unsplash.com/photo-1619895092538-128341789043?auto=format&fit=crop&w=600&q=60'},
        {name: '–†—ñ–∑–æ—Ç—Ç–æ –∑ –≥—Ä–∏–±–∞–º–∏', price: 169, img: 'https://images.unsplash.com/photo-1476124369491-e7addf5db371?auto=format&fit=crop&w=600&q=60', vegan: true}
      ],
      
      drink: [
        {name: '–õ–∏–º–æ–Ω–∞–¥', price: 35, img: 'https://cdn.metro-online.com/-/media/Project/MCW/UA_Metro/Blog/2021/07_2021/Klasychnyy-lymonad/Metro_shop_45945933?auto=format&fit=crop&w=600&q=60', promo: true , vegan: true},
        {name: '–ö–æ–ª–∞', price: 45, img: 'https://brot.ae/cdn/shop/files/Coa-Cola-Photoroom.jpg?auto=format&fit=crop&w=600&q=60'},
        {name: '–ü–µ–ø—Å—ñ', price: 45, img: 'https://st5.depositphotos.com/61628574/74140/i/450/depositphotos_741401190-stock-photo-pepsi-can-black-background-isolated.jpg?auto=format&fit=crop&w=600&q=60'},
        {name: '–°—ñ–∫', price: 40, img: 'https://images.unsplash.com/photo-1613478223719-2ab802602423?auto=format&fit=crop&w=600&q=60', vegan: true},
        
      ],
      
      alcohol: [
        {name: '–ü–∏–≤–æ 0.5', price: 55, img: 'https://images.unsplash.com/photo-1535958636474-b021ee887b13?auto=format&fit=crop&w=600&q=60'},
        {name: '–í–∏–Ω–æ 0.7', price: 199, img: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?auto=format&fit=crop&w=600&q=60'},
        {name: '–ö–æ–∫—Ç–µ–π–ª—å', price: 129, img: 'https://images.unsplash.com/photo-1470337458703-46ad1756a187?auto=format&fit=crop&w=600&q=60'}
      ],
      
      dessert: [
        {name: '–¢—ñ—Ä–∞–º—ñ—Å—É', price: 99, img: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?auto=format&fit=crop&w=600&q=60', promo: true , vegan: true},
        {name: '–ß—ñ–∑–∫–µ–π–∫', price: 109, img: 'https://images.unsplash.com/photo-1565958011703-44f9829ba187?auto=format&fit=crop&w=600&q=60', vegan: true},
        {name: '–ú—É—Å', price: 89, img: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=600&q=60', vegan: true}
      ],
      
      banquet: [
        {name: '–ë–∞–Ω–∫–µ—Ç 6 –æ—Å—ñ–±', price: 699, img: 'https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&w=600&q=60'},
        {name: '–ë–∞–Ω–∫–µ—Ç 10 –æ—Å—ñ–±', price: 999, img: 'https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&w=600&q=60'}
      ],
      grill: [
        {name: '—à–∞—à–ª–∏–∫', price: 90, img: 'https://images.unsplash.com/photo-1508615263227-c5d58c1e5821?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Z3JpbGx8ZW58MHx8MHx8fDA%3Djpg?auto=format&fit=crop&w=600&q=60'},
        {name: '—Ä–∏–±–∞', price: 120, img: 'https://images.unsplash.com/photo-1556814901-18c866c057da?q=80&w=764&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D?auto=format&fit=crop&w=600&q=60'}
      ],
      
      
      promo: []
    };
    
    /* –∑–±–∏—Ä–∞—î–º–æ –∞–∫—Ü—ñ—ó –∑ —É—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π */
    Object.values(menuData).forEach(arr => {
      arr.forEach(item => { if(item.promo) menuData.promo.push(item) });
    });

    let cart = [], currentCat = 'pizza', searchStr = '';
    const MAX_TABLES = 15; // –î–æ–¥–∞—î–º–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –¥–ª—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–æ–ª–∏–∫—ñ–≤

    /* ---------- FUNCTIONS ---------- */
    function render() {
      const g = document.getElementById('menuGrid');
      g.innerHTML = '';
      let list = menuData[currentCat] || [];
      
      if(searchStr) {
        list = list.filter(it => it.name.toLowerCase().includes(searchStr));
      }
      
      if(list.length === 0) {
        g.innerHTML = '<p style="text-align:center;grid-column:1/-1;padding:2rem">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>';
        return;
      }
      
      list.forEach((it, i) => {
        const qty = getQty(it.name);
        const c = document.createElement('article'); 
        c.className = 'card'; 
        c.style.animationDelay = (i * 100) + 'ms';
        c.innerHTML =
          '<img src="' + it.img + '" alt="' + it.name + '" loading="lazy">' +
          '<div class="card-body">' +
            '<h3 class="card-title">' + it.name + '</h3>' +
            '<p class="card-price">' + it.price + ' –≥—Ä–Ω ' + (it.promo ? '<span style="color:#ffd700">‚òÖ –∞–∫—Ü—ñ—è  </span>' : '')+ (it.vegan ? '<span style="color:#6a994e">–≤–µ–≥–∞–Ω üå±  </span>' : '') + '</p>' +
            
            '<div class="qty-row">' +
              '<button class="qty-btn" onclick="changeQty(\'' + it.name + '\',' + it.price + ',-1)">-</button>' +
              '<span class="qty-val">' + qty + '</span>' +
              '<button class="qty-btn" onclick="changeQty(\'' + it.name + '\',' + it.price + ',1)">+</button>' +
            '</div>' +
          '</div>';
        g.appendChild(c);
        
        // –î–æ–¥–∞—î–º–æ –∞–Ω—ñ–º–∞—Ü—ñ—é –ø–æ—è–≤–∏
        setTimeout(() => {
          c.classList.add('visible');
        }, 50 + i * 100);
      });
    }
    
    function getQty(name) {
      return cart.find(i => i.name === name)?.qty || 0;
    }
    
    function changeQty(name, price, delta) {
      const item = cart.find(i => i.name === name);
      if(!item) {
        if(delta > 0) {
          cart.push({name, price, qty: delta});
          // –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–æ—à–∏–∫–∞
          const cartBtn = document.querySelector('.cart-btn');
          cartBtn.classList.add('added');
          setTimeout(() => cartBtn.classList.remove('added'), 500);
        }
      } else {
        item.qty = Math.max(0, item.qty + delta);
        if(item.qty === 0) cart = cart.filter(i => i.name !== name);
      }
      
      localStorage.setItem('kisso-cart', JSON.stringify(cart));
      document.getElementById('count').textContent = cart.reduce((s, i) => s + i.qty, 0);
      render(); 
      
      if(document.getElementById('cartModal').classList.contains('open')) {
updateCart();
      }
    }
    
    function toggleNav() {
      const nav = document.getElementById('main-nav');
      const burger = document.querySelector('.burger');
      nav.classList.toggle('open');
      burger.classList.toggle('open');
    }
    
    function toggleCart() {
      const modal = document.getElementById('cartModal');
      modal.classList.toggle('open');
      if(modal.classList.contains('open')) {
        updateCart();
      }
    }
    
    function updateCart() {
      const list = document.getElementById('cartItems');
      list.innerHTML = '';
      
      if(!cart.length) {
        list.innerHTML = '<p style="text-align:center;padding:2rem">–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>';
        document.getElementById('cartTotal').textContent = '0';
        return;
      }
      
      cart.forEach(it => {
        const div = document.createElement('div'); 
        div.className = 'cart-item';
        div.innerHTML =
          '<span>' + it.name + '</span>' +
          '<div class="qty-row">' +
            '<button class="qty-btn" onclick="changeQty(\'' + it.name + '\',' + it.price + ',-1)">-</button>' +
            '<span>' + it.qty + '</span>' +
            '<button class="qty-btn" onclick="changeQty(\'' + it.name + '\',' + it.price + ',1)">+</button>' +
          '</div>' +
          '<span>' + (it.price * it.qty) + ' –≥—Ä–Ω</span>';
        list.appendChild(div);
      });
      
      document.getElementById('cartTotal').textContent = cart.reduce((s, i) => s + i.price * i.qty, 0);
    }
    
    function toggleFields(sel) {
      const isCafe = sel.value === 'cafe';
      const addrField = document.getElementById('fieldAddr');
      const tableRow = document.getElementById('tableRow');
      
      if(isCafe) {
        addrField.style.display = 'none';
        addrField.required = false;
        tableRow.style.display = 'block';
        document.getElementById('selectTable').required = true;

        // –°—Ç–≤–æ—Ä—é—î–º–æ –æ–ø—Ü—ñ—ó –¥–ª—è —Å—Ç–æ–ª–∏–∫—ñ–≤, —è–∫—â–æ —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ
        const s = document.getElementById('selectTable');
        if(!s.children.length) {
          for(let i = 1; i <= MAX_TABLES; i++) {
            const o = document.createElement('option');
            o.value = i;
            o.textContent = i;
            s.appendChild(o);
          }
        }
      } else {
        addrField.style.display = 'block';
        addrField.required = true;
        tableRow.style.display = 'none';
        document.getElementById('selectTable').required = false;
      }
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑ URL
    function getUrlParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É —Å—Ç–æ–ª–∏–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    function autoSelectTableFromUrl() {
      const tableNumber = getUrlParam('table');
      if (tableNumber && parseInt(tableNumber) >= 1 && parseInt(tableNumber) <= MAX_TABLES) {
        const deliverySelect = document.querySelector('select[name="deliveryType"]');
        deliverySelect.value = 'cafe';
        // –í–∏–∫–ª–∏–∫–∞—î–º–æ toggleFields, —â–æ–± –æ–Ω–æ–≤–∏—Ç–∏ —Ñ–æ—Ä–º—É
        toggleFields(deliverySelect);
        // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Å—Ç–æ–ª–∏–∫–∞
        const tableSelect = document.getElementById('selectTable');
        tableSelect.value = tableNumber;
        // –†–æ–±–∏–º–æ –ø–æ–ª–µ –≤–∏–±–æ—Ä—É —Å–ø–æ—Å–æ–±—É –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏–º
        deliverySelect.disabled = true;
        
        // –î–æ–¥–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä —Å—Ç–æ–ª–∏–∫–∞
        const message = document.createElement('div');
        message.style.cssText = 'background: #f9c74f; padding: 10px; border-radius: 8px; margin: 10px 0; text-align: center; font-weight: bold;';
        message.textContent = `–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±—Ä–∞–Ω–æ —Å—Ç–æ–ª–∏–∫ ‚Ññ${tableNumber}`;
        document.querySelector('.cart-content').insertBefore(message, document.getElementById('cartItems'));
      }
    }
    
    /* Telegram-–≤—ñ–¥–ø—Ä–∞–≤–∫–∞ */
    async function sendToTelegram(orderNo, total, formData) {
      // –¶—ñ –∑–º—ñ–Ω–Ω—ñ –±—É–¥—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–º—ñ–Ω–µ–Ω—ñ Python —Å–µ—Ä–≤–µ—Ä–æ–º
      const token = '8383546914:AAFJzg019Mm76G7pU_ffXpsvqiQO2TW8c4s';
      const chat_id = '2026196111';
      
      // –§–æ—Ä–º—É—î–º–æ —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
      let text = 'üçï –ù–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ' + orderNo + '\n';
      text += 'üí∞ ' + total + ' –≥—Ä–Ω\n';
      text += 'üë§ ' + formData.get('name') + ' | ' + formData.get('phone') + '\n';
      
      if(formData.get('deliveryType') === 'cafe') {
        text += 'üçΩÔ∏è –£ –∫–∞—Ñ–µ, —Å—Ç—ñ–ª ' + formData.get('table');
      } else {
        text += 'üöó –î–æ—Å—Ç–∞–≤–∫–∞: ' + formData.get('address');
      }
      
      text += '\n\n–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è:\n';
      cart.forEach(item => {
        text += '‚Ä¢ ' + item.name + ' x' + item.qty + ' - ' + (item.price * item.qty) + ' –≥—Ä–Ω\n';
      });
      
      try {
        const response = await fetch('https://api.telegram.org/bot' + token + '/sendMessage', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({chat_id, text})
        });
        
        if(!response.ok) {
          throw new Error('–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –≤ Telegram');
        }
        
        return true;
      } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞:', error);
        return false;
      }
    }
    
    async function handleOrder(e) {
      e.preventDefault();
      if(!cart.length) {
        alert('–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π');
        return;
      }
      
      const formData = new FormData(e.target);
      const orderNo = Math.random().toString(36).substr(2, 6).toUpperCase();
      const total = cart.reduce((s, i) => s + i.price * i.qty, 0);
      
      // –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∏
      if(formData.get('deliveryType') === 'delivery' && !formData.get('address')) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∫–∞–∂—ñ—Ç—å –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏');
        return;
      }
      
      // –ü–æ–∫–∞–∑—É—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
      const submitBtn = e.target.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = '–í—ñ–¥–ø—Ä–∞–≤–∫–∞...';
      submitBtn.disabled = true;
      
      try {
        // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –≤ Telegram
        const telegramSent = await sendToTelegram(orderNo, total, formData);
        
        if (telegramSent) {
          alert('‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ' + orderNo + ' –ø—Ä–∏–π–Ω—è—Ç–æ!\nüìû +38 (066) 020-96-75 –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É—î–º–æ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.');
          cart = [];
          localStorage.removeItem('kisso-cart');
          document.getElementById('count').textContent = 0;
          document.getElementById('orderForm').reset();
          render();
          toggleCart();
        } else {
          alert('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–π—Ç–µ –Ω–∞–º.');
        }
      } catch (error) {
        console.error('–ü–æ–º–∏–ª–∫–∞:', error);
        alert('‚ùå –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–π—Ç–µ –Ω–∞–º.');
      } finally {
        // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫—É
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }
    }

    /* –ø–ª–∞–≤–∞—é—á—ñ —ñ–∫–æ–Ω–∫–∏ */
    const icons = ['fa-pizza-slice', 'fa-burger', 'fa-glass-cheers', 'fa-cookie-bite', 'fa-coffee', 'fa-ice-cream', 'fa-cheese', 'fa-bread-slice'];
    const fi = document.getElementById('floatIcons');
    
    for(let i = 0; i < 30; i++) {
      const el = document.createElement('i');
      el.className = 'fa-solid ' + icons[i % icons.length];
      el.style.left = Math.random() * 100 + '%';
      el.style.animationDelay = (Math.random() * 20) + 's';
      el.style.animationDuration = (18 + Math.random() * 12) + 's';
      el.style.fontSize = (1 + Math.random() * 1.5) + 'rem';
      fi.appendChild(el);
    }

    /* –∑—ñ—Ä–∫–æ–≤–∏–π —Ä–µ–π—Ç–∏–Ω–≥ */
    function openRate() {
      document.getElementById('starRating').style.display = 'block';
    }
    
    document.querySelectorAll('#starRating i').forEach(star => {
      star.addEventListener('click', () => {
        const s = +star.dataset.s;
        document.querySelectorAll('#starRating i').forEach((x, i) => {
          x.className = i < s ? 'fa-solid fa-star active' : 'fa-regular fa-star';
        });
        setTimeout(() => alert('–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à—É –æ—Ü—ñ–Ω–∫—É!'), 150);
      });
    });

    /* –ï—Ñ–µ–∫—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –¥–ª—è header */
    function handleScroll() {
      const header = document.getElementById('mainHeader');
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    }

    /* init */
    document.addEventListener('DOMContentLoaded', function() {
      // –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ—à—É–∫—É
      document.getElementById('searchInput').addEventListener('input', e => {
        searchStr = e.target.value.toLowerCase();
        render();
      });
      
      // –û–±—Ä–æ–±–Ω–∏–∫–∏ —Ç–∞–±—ñ–≤
      document.querySelectorAll('.tab').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelector('.tab.active').classList.remove('active');
          btn.classList.add('active');
          currentCat = btn.dataset.cat;
          render();
        });
      });
      
      // –ó–∞–∫—Ä–∏—Ç–∏ –º–µ–Ω—é –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
      document.querySelectorAll('#main-nav a').forEach(a => {
        a.addEventListener('click', toggleNav);
      });
      
      // –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ—à–∏–∫ –∑ localStorage
      const saved = JSON.parse(localStorage.getItem('kisso-cart') || '[]');
      cart = saved;
      document.getElementById('count').textContent = cart.reduce((s, i) => s + i.qty, 0);
      
      // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–Ω–¥–µ—Ä
      render();
      
      // –î–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
      window.addEventListener('scroll', handleScroll);
      
      // –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á –∑–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ
      const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);
      
      // –°–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–∞ –∫–∞—Ä—Ç–∫–∞–º–∏
      setTimeout(() => {
        document.querySelectorAll('.card').forEach(card => {
          observer.observe(card);
        });
      }, 500);
      
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä —Å—Ç–æ–ª–∏–∫–∞ –∑ URL
      autoSelectTableFromUrl();
    });
  </script>
</body>
</html>
